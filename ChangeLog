2008-12-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c (ccm_window_check_mask):
	  - Apply window opacity on check mask

2008-12-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window-plugin.c:
	* src/ccm-window-plugin.h:
	* src/ccm-window.c:
	  - Add get pixmap interface.
	  - Check mask surface if pixmap size has increase by a plugin.
	* lib/test-boxed-blur.c (main):
	* lib/Makefile.am
	* lib/ccm-cairo-utils.c:
	* lib/ccm-cairo-utils.h:
	  - Use Mathias Hasselmann pixman blur from
	    http://taschenorakel.de/mathias/2008/11/24/blur-effect-cairo/
	* plugins/shadow/ccm-shadow.c:
	* plugins/shadow/ccm-shadow.plugin.desktop.in:
	* plugins/shadow/ccm-shadow.schemas.in:
	  - Rewrite shadow plugin to be more efficient. Draw shadow directly
	    on pixmap instead on draw.
	* plugins/decoration/ccm-decoration.c:
	* plugins/decoration/ccm-decoration.plugin.desktop.in:
	  - Create an A8 similar surface for mask.
	* plugins/mosaic/ccm-mosaic.c:
	  - Begin to rewrite mosaic plugin to add more efficient window matrix
	    transform management.
	* src/ccm-extension-loader.c:
	* src/ccm-extension.c:
	* src/ccm-extension.h:
	  - Fix plugin sort order.
	* src/ccm-region.c:
	  - Force align to integer on rectangle conversion to improve clipping
	    performance.
	* src/ccm.h:
	  - Fix typo.

2008-12-14  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac:
	  - Add enable-glitz option and disable by default glitz backend.
	* plugins/decoration/ccm-decoration.plugin.desktop.in:
	* plugins/shadow/ccm-shadow.plugin.desktop.in:
	  - Invert dependencies to have always in first place shadow plugin.
	* src/ccm-extension.c (_ccm_extension_insert_sorted):
	  - Fix typo
	* plugins/decoration/ccm-decoration.c (ccm_decoration_window_move),
	(ccm_decoration_window_resize):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_window_move),
	(ccm_shadow_window_resize):
	* src/ccm-region.c (_ccm_region_print), (ccm_region_new),
	(ccm_region_destroy), (ccm_region_copy), (ccm_region_rectangle),
	(ccm_region_xrectangle), (ccm_region_get_clipbox),
	(ccm_region_get_rectangles), (ccm_region_get_xrectangles),
	(ccm_region_get_boxes), (ccm_region_empty), (ccm_region_subtract),
	(ccm_region_union), (ccm_region_union_with_rect),
	(ccm_region_union_with_xrect), (ccm_region_intersect),
	(ccm_region_transform), (ccm_region_offset),
	(ccm_region_device_transform), (ccm_region_resize),
	(ccm_region_scale):
	* src/ccm-region.h:
	* src/ccm-window-glitz.c (ccm_window_glitz_flush_region):
	* src/ccm-window.c (impl_ccm_window_resize):
	* src/ccm.h:
	  - Region rework use pixman_region32 methods to manage them, and use
	    16/16 fixed points to store data.

2008-12-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c (impl_ccm_window_resize):
	  - Fix a stupid copy and paste bug in resize window.

2008-12-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-drawable.c (ccm_drawable_init), (__ccm_drawable_resize),
	(ccm_drawable_move), (ccm_drawable_resize):
	  - Remenber the last position and size of drawable to avoid 
	    unnecessary call of move or resize on configure event.

2008-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c (impl_ccm_window_move),
	(impl_ccm_window_resize):
	  - Resize and offset opaque regions on window move and resize.

2008-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_ping), (ccm_freeze_map):
	  - Use g_timeout_add_seconds instead g_timeout_add.
	  - Set send event has no user event
	* src/ccm-drawable.c (__ccm_drawable_resize):
	  - Resize geometry region instead query_geometry.
	* src/ccm-screen.c (ccm_screen_on_event):
	  - Don't compress property and client message event.
	* src/ccm-window.c (impl_ccm_window_move), (ccm_window_unmap):
	  - Offset also origin opaque region on move.
	  - Don't damage window on unmap not necessary.

2008-12-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_on_event):
	  - Don't compress ping event.

2008-12-08  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/decoration/ccm-decoration.c (ccm_decoration_init),
	(ccm_decoration_get_opacity), (ccm_decoration_create_mask):
	* plugins/decoration/ccm-decoration.schemas.in:
	  - Add gradiant decoration options.
	* plugins/freeze/ccm-freeze.c (ccm_freeze_ping), (ccm_freeze_map),
	(ccm_freeze_unmap), (ccm_freeze_window_iface_init):
	  - Remove screen plugin interface.
	* src/ccm-pixmap.h:
	  - Fix typo.
	* src/ccm-window.c (ccm_window_unmap):
	  - Damage window on unmap.

2008-12-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/decoration/ccm-decoration.c
	(ccm_decoration_window_paint), (ccm_decoration_window_iface_init):
	  - Disable mask if damage region doesn't concern decoration.

2008-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_finalize):
	  - Fix crash on freeze plugin unload.

2008-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_init),
	(ccm_freeze_finalize), (ccm_freeze_on_event), (ccm_freeze_get_pid),
	(ccm_freeze_ping), (ccm_freeze_load_options), (ccm_freeze_paint),
	(ccm_freeze_map), (ccm_freeze_unmap), (ccm_freeze_add_window):
	* plugins/freeze/ccm-freeze.h:
	* plugins/freeze/ccm-freeze.schemas.in:
	  - Only ping application which have _NET_WM_PID atom
	  - Add color freeze option
	  - Some fix
	* data/cairo-compmgr.schemas.in:
	  - Enable by default decoration and freeze plugins
	* plugins/magnifier/ccm-magnifier.c
	(ccm_magnifier_cursor_get_surface):
	  - Don't draw animated cursor
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
	* src/ccm-screen.c (ccm_screen_paint):
	  - Fix to work with latest glitz snapshot.

2008-11-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/decoration/ccm-decoration.c (ccm_decoration_init),
	(ccm_decoration_finalize), (ccm_decoration_on_option_changed),
	(ccm_decoration_on_property_changed),
	(ccm_decoration_on_opacity_changed),
	(ccm_decoration_window_load_options), (ccm_decoration_create_mask),
	(ccm_decoration_window_query_geometry):
	* plugins/decoration/ccm-decoration.schemas.in:
	  - Use similar surface instead image surface.
	  - Fix crash on load/unload.
	  - Remove blur option.
	* src/ccm-plugin.c (ccm_plugin_finalize):
	  - Set parent to null on unref.
	* src/ccm-screen.c (ccm_screen_print_stack):
	  - Fix typo
	* src/ccm-window.c (ccm_window_query_frame_extends),
	(ccm_window_get_property), (ccm_window_get_child_property):
	  - Use gulong instead guint32 on get property to have the correct size on
	    64 bits platform.
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
	* src/ccm-window-glitz.c (ccm_window_glitz_create_gl_drawable),
	(ccm_window_glitz_create_pixmap):
	  - Fix glitz format selection need uncommited release of glitz.

2008-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/decoration/ccm-decoration.c (ccm_decoration_init),
	(ccm_decoration_get_blur), (ccm_decoration_on_option_changed),
	(ccm_decoration_window_load_options), (ccm_decoration_create_mask):
	* plugins/decoration/ccm-decoration.schemas.in:
	  - Add decoration opacity blur option.

2008-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/decoration/ccm-decoration.c (ccm_decoration_init),
	(ccm_decoration_finalize), (ccm_decoration_class_init),
	(ccm_decoration_get_opacity), (ccm_decoration_on_option_changed),
	(ccm_decoration_on_property_changed),
	(ccm_decoration_on_opacity_changed),
	(ccm_decoration_window_load_options), (ccm_decoration_create_mask),
	(ccm_decoration_window_query_geometry),
	(ccm_decoration_window_set_opaque_region),
	(ccm_decoration_window_move), (ccm_decoration_window_resize),
	(ccm_decoration_window_iface_init):
	* plugins/decoration/ccm-decoration.h:
	* plugins/decoration/ccm-decoration.plugin.desktop.in:
	* plugins/decoration/ccm-decoration.schemas.in:
	  - Add translucent decoration plugin.

2008-11-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c (ccm_screen_update_refresh_rate):
	  - Don't try to set refresh rate if we have an error on get conf key, 
	    avoid a crash on first startup.       

2008-11-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_window_load_options),
	(ccm_shadow_window_map):
      - Check for _CCM_SHADOW_DISABLED property on window map.

2008-11-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_init),
	(ccm_shadow_class_init), (ccm_shadow_check_needed),
	(ccm_shadow_need_shadow), (ccm_shadow_query_avoid_shadow),
	(ccm_shadow_create_atoms), (ccm_shadow_on_event),
	(ccm_shadow_screen_load_options), (ccm_shadow_window_load_options),
	(ccm_shadow_window_query_geometry), (ccm_shadow_window_map),
	(ccm_shadow_window_paint), (ccm_shadow_window_move),
	(ccm_shadow_window_resize), (ccm_shadow_window_set_opaque_region),
	(ccm_shadow_window_get_origin), (ccm_shadow_window_iface_init),
	(ccm_shadow_screen_iface_init):
	* plugins/shadow/ccm-shadow.h:
      - Add atom _CCM_SHADOW_DISABLE to disable per window
	* src/ccm-window.c (ccm_window_get_child_utf8_property),
	(ccm_window_query_child), (ccm_window_get_attribs),
	(ccm_window_get_frame_extends), (ccm_window_get_property),
	(ccm_window_get_child_property):
	* src/ccm.h:
      - Fix non frame window search 
      - Expose ccm_window_get_property functions

2008-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_window_paint):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_on_new_frame), (ccm_menu_animation_map):
	* src/ccm-window.c (ccm_window_new), (ccm_window_paint),
	(ccm_window_set_transform):
	  - Remove damage option on window set transform.
	  - Damage window on each frame in menu-animation.
	  - Remove a display sync on window creation.
	* plugins/shadow/ccm-shadow.c (ccm_shadow_paint_shadow),
	(ccm_shadow_paint):
	* plugins/shadow/ccm-shadow.schemas.in:
	  - Fix shadow draw when window have transform.
	* src/cairo-compmgr.c (log_func):
	* src/ccm-screen.c (ccm_screen_destroy_window),
	(ccm_screen_find_window), (ccm_screen_find_window_or_child),
	(impl_ccm_screen_paint), (ccm_screen_damage_region):
	* src/ccm.h:
	  - Fix some warnings.

2008-11-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* lib/ccm-cairo-utils.c (kernel_1d_new), (kernel_1d_delete),
	(cairo_image_surface_blur):
	  - Use g_slice instead calloc improve performance.
	* src/ccm-keybind.c (ccm_keybind_finalize):
	  - Disconnect keymap change handler on destruction, fix crash when keymap
	    change.
	* lib/ccm-config.c (ccm_config_copy_entry):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_finalize):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_finalize):
	* src/ccm-screen.c (ccm_screen_load_config),
	(ccm_screen_check_stack):
	  - Add some check, to avoid some warning and crash.
	* src/cairo-compmgr.c (crash), (session_die), (log_func), (main):
	  - Add dump stack on warning and on sigsegv.

2008-11-14  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* lib/ccm-config.c (ccm_config_copy_entry),
	(ccm_config_error_quark), (ccm_config_new),
	(ccm_config_get_boolean), (ccm_config_set_boolean),
	(ccm_config_get_integer), (ccm_config_set_integer),
	(ccm_config_get_float), (ccm_config_set_float),
	(ccm_config_get_string), (ccm_config_set_string),
	(ccm_config_get_string_list), (ccm_config_set_string_list),
	(ccm_config_get_integer_list), (ccm_config_set_integer_list),
	(ccm_config_get_color):
	* lib/ccm-config.h:
	* plugins/fade/ccm-fade.c (ccm_fade_get_duration),
	(ccm_fade_window_load_options):
	* plugins/freeze/ccm-freeze.c (ccm_freeze_load_options),
	(ccm_freeze_map), (ccm_freeze_add_window):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_on_key_press),
	(ccm_magnifier_get_enable), (ccm_magnifier_get_keybind),
	(ccm_magnifier_get_scale), (ccm_magnifier_get_zoom_quality),
	(ccm_magnifier_get_shade_desktop), (ccm_magnifier_get_border),
	(ccm_magnifier_get_restrict_area), (ccm_magnifier_get_size),
	(ccm_magnifier_screen_load_options):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_get_duration),
	(ccm_menu_animation_window_load_options):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_screen_load_options),
	(ccm_mosaic_create_areas):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_get_opacity_step),
	(ccm_opacity_get_opacity), (ccm_opacity_get_increase_keybind),
	(ccm_opacity_get_decrease_keybind),
	(ccm_opacity_screen_load_options),
	(ccm_opacity_window_load_options):
	* plugins/perf/ccm-perf.c (ccm_perf_screen_load_options):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_load_options),
	(ccm_shadow_query_geometry), (ccm_shadow_paint), (ccm_shadow_move),
	(ccm_shadow_resize):
	* src/ccm-display.c (ccm_display_set_property),
	(ccm_display_get_property), (ccm_display_load_config),
	(ccm_display_init_test), (ccm_display_new):
	* src/ccm-screen.c (ccm_screen_set_property),
	(ccm_screen_get_property), (ccm_screen_update_background),
	(ccm_screen_update_refresh_rate), (ccm_screen_load_config),
	(ccm_screen_get_window_plugins), (ccm_screen_get_plugins):
	* src/ccm-tray-icon.c (ccm_tray_icon_enable_ccm_changed),
	(ccm_tray_icon_new):
	* src/ccm-tray-menu.c (ccm_tray_menu_ccm_menu_activate),
	(ccm_tray_menu_enable_ccm_changed), (ccm_tray_menu_new):
	  - Add ccm-config error handling.
	* src/ccm-screen.c (ccm_screen_motion_input_redirect),
	(ccm_screen_button_input_redirect):
	* configure.ac:
	* src/ccm.h:
	  - Add input redirection methods.	  

2008-11-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac:
	  - Don't check for glitz tfp if glitz isn't enabled
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_screen_add_window):
	  - Check areas only if window can't be added in them

2008-11-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_need_shadow):
	  - Refine the window filter for shadow.
	* plugins/shadow/ccm-shadow.schemas.in:
	  - Set default color shadow more dark.

2008-11-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* lib/ccm-cairo-utils.c (kernel_1d_new), (kernel_1d_delete),
	(cairo_image_surface_blur):
	* lib/ccm-cairo-utils.h:
      - add image surface blur methods.
	
    * plugins/fade/ccm-fade.c (ccm_fade_window_iface_init):
	* plugins/freeze/ccm-freeze.c (ccm_freeze_window_iface_init):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_init),
	(ccm_magnifier_window_iface_init):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_window_iface_init):
	* plugins/perf/ccm-perf.c (ccm_perf_window_iface_init):
    * plugins/opacity/ccm-opacity.c (ccm_opacity_window_iface_init):
	* src/ccm-window-plugin.c (ccm_window_plugin_get_origin):
	* src/ccm-window-plugin.h:
      - add get window origin interface.
	
    * plugins/mosaic/ccm-mosaic.c (ccm_mosaic_on_key_press),
	(ccm_mosaic_screen_load_options), (ccm_mosaic_check_area),
	(ccm_mosaic_paint_area), (ccm_mosaic_screen_add_window),
	(ccm_mosaic_screen_paint), (ccm_mosaic_screen_damage),
	(ccm_mosaic_screen_iface_init), (ccm_mosaic_window_iface_init):
      - check for windows on add and destroy window instead on each paint.
      
	* plugins/shadow/ccm-shadow.c (ccm_shadow_init),
	(ccm_shadow_finalize), (ccm_shadow_create_shadow),
	(ccm_shadow_paint_shadow), (ccm_shadow_load_options),
	(ccm_shadow_query_geometry), (ccm_shadow_map), (ccm_shadow_paint),
	(ccm_shadow_move), (ccm_shadow_resize), (ccm_shadow_get_origin),
	(ccm_shadow_iface_init):
	* plugins/shadow/ccm-shadow.schemas.in:
      - beautify shadow with a real blur.
      - add shadow in all side and remove offset
      - add blur radial parameter and shadow color parameter
      
	* src/ccm-drawable.c (ccm_drawable_damage_region):
      - call ccm_drawable_damage_region_silently instead a duplicate code.
      
	* src/ccm-screen.c (ccm_screen_class_init),
	(ccm_screen_destroy_window):
      - add window destroyed signal.
    
	* src/ccm-window.c (ccm_window_iface_init),
	(impl_ccm_window_get_origin), (ccm_window_on_pixmap_damaged),
	(ccm_window_make_output_only), (ccm_window_make_input_output),
	(ccm_window_get_pixmap):
      - fix small memory leak.
      - add window get origin interface.

2008-10-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_screen_iface_init):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_screen_paint),
	(ccm_magnifier_screen_iface_init):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_init),
	(ccm_mosaic_broadcast_event), (ccm_mosaic_on_event),
	(ccm_mosaic_on_key_press), (ccm_mosaic_get_damaged_area),
	(ccm_mosaic_paint_area), (ccm_mosaic_screen_paint),
	(ccm_mosaic_screen_damage), (ccm_mosaic_window_paint),
	(ccm_mosaic_screen_iface_init):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_screen_iface_init):
	* plugins/perf/ccm-perf.c (ccm_perf_screen_paint),
	(ccm_perf_screen_iface_init):
	* src/ccm-drawable.c (ccm_drawable_damage_region_silently):
	* src/ccm-screen-plugin.c (ccm_screen_plugin_damage):
	* src/ccm-screen-plugin.h:
	* src/ccm-screen.c (ccm_screen_set_property),
	(ccm_screen_get_property), (ccm_screen_init),
	(ccm_screen_iface_init), (ccm_screen_check_stack),
	(impl_ccm_screen_damage), (ccm_screen_on_window_damaged),
	(ccm_screen_on_event), (ccm_screen_undamage_region),
	(ccm_screen_remove_damaged_region), (ccm_screen_activate_window):
	* src/ccm-window.c (create_atoms):
	* src/ccm-window.h:
	* src/ccm.h:
	  - Generally use ccm_region_transform instead ccm_region_offset and 
	    ccm_region_scale.
	  - Add damage interface to screen plugin
	  - Remove filtered damage property to screen
	  - Fix mosaic plugin 
	  - Rename ccm_screen_undamage to ccm_screen_remove_damaged
	  - Define a real ccm_screen_undamage
	  - Add ccm_drawable_damage_silently method instead block signal.
	  - Fix perf plugin

2008-10-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c (ccm_freeze_screen_iface_init):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_screen_paint),
	(ccm_magnifier_screen_iface_init):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_init),
	(ccm_mosaic_broadcast_event), (ccm_mosaic_on_event),
	(ccm_mosaic_on_key_press), (ccm_mosaic_get_damaged_area),
	(ccm_mosaic_paint_area), (ccm_mosaic_screen_paint),
	(ccm_mosaic_screen_damage), (ccm_mosaic_window_paint),
	(ccm_mosaic_screen_iface_init):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_screen_iface_init):
	* plugins/perf/ccm-perf.c (ccm_perf_screen_paint),
	(ccm_perf_screen_iface_init):
	* src/ccm-drawable.c (ccm_drawable_damage_region_silently):
	* src/ccm-screen-plugin.c (ccm_screen_plugin_damage):
	* src/ccm-screen-plugin.h:
	* src/ccm-screen.c (ccm_screen_set_property),
	(ccm_screen_get_property), (ccm_screen_init),
	(ccm_screen_iface_init), (ccm_screen_check_stack),
	(impl_ccm_screen_damage), (ccm_screen_on_window_damaged),
	(ccm_screen_on_event), (ccm_screen_undamage_region),
	(ccm_screen_remove_damaged_region), (ccm_screen_activate_window):
	* src/ccm-window.c (create_atoms):
	* src/ccm-window.h:
	* src/ccm.h: 
	  - Add damage interface to screen plugin.
	  - Fix mosaic plugin.

2008-10-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac:
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_init),
	(ccm_magnifier_on_key_press), (ccm_magnifier_get_scale),
	(ccm_magnifier_get_border), (ccm_magnifier_get_restrict_area),
	(ccm_magnifier_get_size), (ccm_magnifier_cursor_get_surface),
	(ccm_magnifier_cursor_get_position),
	(ccm_magnifier_on_option_changed),
	(ccm_magnifier_screen_load_options), (ccm_magnifier_screen_paint),
	(ccm_magnifier_window_paint):
	* plugins/magnifier/ccm-magnifier.schemas.in:
	* src/ccm-screen.c (ccm_screen_query_pointer):
      Add restricted area.
    * src/ccm-pixmap.c (ccm_pixmap_register_damage): 
      Set Report NonEmpty for damage
	
2008-10-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Bump to 0.2.3
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_init),
	(ccm_magnifier_on_key_press), (ccm_magnifier_get_scale),
	(ccm_magnifier_get_border), (ccm_magnifier_get_size),
	(ccm_magnifier_cursor_get_surface),
	(ccm_magnifier_cursor_get_position),
	(ccm_magnifier_on_option_changed),
	(ccm_magnifier_screen_load_options), (ccm_magnifier_screen_paint),
	(ccm_magnifier_window_paint):
	* plugins/magnifier/ccm-magnifier.schemas.in:
	* src/ccm-screen.c (ccm_screen_query_pointer):
      - Prepare magnifier for our machine

============ Version 0.2.2

2008-10-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* NEWS: Prepare 0.2.2 version

2008-09-29  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_on_key_press),
	(ccm_magnifier_window_paint):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_on_key_press),
	(ccm_mosaic_screen_paint), (ccm_mosaic_window_paint):
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_class_init),
	(ccm_pixmap_glitz_get_surface):
	* src/ccm-pixmap.c (ccm_pixmap_new), (ccm_pixmap_new_from_visual),
	(ccm_pixmap_image_new):
	* src/ccm-pixmap.h:
	* src/ccm-window.c (ccm_window_set_gobject_property),
	(ccm_window_init), (ccm_window_class_init),
	(ccm_window_get_pixmap), (ccm_window_paint):
	  Add use_image property to window for set/unset image pixmap backend 
	  instead than the configured, its improve magnifier and mosaic plugin
	  performances. Its due of slowness of get_image of xrender/glitz backend
	  when this plugins draw windows.

2008-09-29  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c (ccm_fade_get_duration):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_get_duration):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_get_opacity_step),
	(ccm_opacity_get_opacity):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_paint):
	  Update config value only if outside the margins.
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
	  If ccm don't found 32 drawable format try to use visual drawable format.

2008-09-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
      Sometimes i will need to think before commit somethings :). The real
      fix for find pixmap format.

2008-09-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
      Find pixmap format rework need review for nvidia cards.

2008-09-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
      if glx find visual fail try to find visual manually.

2008-09-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* lib/Makefile.am:
	* lib/ccm-config.c (ccm_config_init), (ccm_config_finalize),
	(ccm_config_class_init), (ccm_config_on_change),
	(ccm_config_copy_entry), (ccm_config_new),
	(ccm_config_get_boolean), (ccm_config_set_boolean),
	(ccm_config_get_integer), (ccm_config_set_integer),
	(ccm_config_get_float), (ccm_config_set_float),
	(ccm_config_get_string), (ccm_config_set_string),
	(ccm_config_get_string_list), (ccm_config_set_string_list),
	(ccm_config_get_integer_list), (ccm_config_set_integer_list),
	(ccm_config_get_color):
	* lib/ccm-config.h:
	* lib/ccm-timeline.c (timeout_add), (timeout_remove),
	(timeline_marker_new), (timeline_marker_free),
	(ccm_timeline_set_property), (ccm_timeline_get_property),
	(ccm_timeline_finalize), (ccm_timeline_dispose),
	(ccm_timeline_class_init), (ccm_timeline_init),
	(timeline_timeout_func), (timeline_timeout_add),
	(delay_timeout_func), (ccm_timeline_start), (ccm_timeline_pause),
	(ccm_timeline_stop), (ccm_timeline_set_loop),
	(ccm_timeline_get_loop), (ccm_timeline_rewind),
	(ccm_timeline_skip), (ccm_timeline_advance),
	(ccm_timeline_get_current_frame), (ccm_timeline_get_n_frames),
	(ccm_timeline_set_n_frames), (ccm_timeline_set_speed),
	(ccm_timeline_get_speed), (ccm_timeline_is_playing),
	(ccm_timeline_clone), (ccm_timeline_new_for_duration),
	(ccm_timeline_new), (ccm_timeline_get_delay),
	(ccm_timeline_set_delay), (ccm_timeline_get_duration),
	(ccm_timeline_set_duration), (ccm_timeline_get_progress),
	(ccm_timeline_get_direction), (ccm_timeline_set_direction),
	(ccm_timeline_get_delta), (ccm_timeline_add_marker_internal),
	(ccm_timeline_add_marker_at_frame),
	(ccm_timeline_add_marker_at_time), (ccm_timeline_list_markers),
	(ccm_timeline_advance_to_marker), (ccm_timeline_remove_marker):
	* lib/ccm-timeline.h:
	* lib/ccm-timeout-pool.c (ccm_timeout_sort),
	(ccm_timeout_find_by_id), (ccm_timeout_pool_get_ticks),
	(ccm_timeout_prepare), (ccm_timeout_dispatch), (ccm_timeout_new),
	(ccm_timeout_ref), (ccm_timeout_unref), (ccm_timeout_free),
	(ccm_timeout_pool_prepare), (ccm_timeout_pool_check),
	(ccm_timeout_pool_dispatch), (ccm_timeout_pool_finalize),
	(ccm_timeout_pool_new), (ccm_timeout_pool_add),
	(ccm_timeout_pool_remove):
	* lib/ccm-timeout-pool.h:
	* lib/eggaccelerators.c (is_alt), (is_ctl), (is_modx), (is_ctrl),
	(is_shft), (is_shift), (is_control), (is_release), (is_meta),
	(is_super), (is_hyper), (is_keycode), (is_button),
	(egg_accelerator_parse_virtual), (egg_virtual_accelerator_name),
	(egg_keymap_resolve_virtual_modifiers),
	(egg_keymap_virtualize_modifiers), (reload_modmap),
	(egg_keymap_get_modmap):
	* lib/eggaccelerators.h:
	* src/ccm-config.c:
	* src/ccm-config.h:
	* src/ccm-extension.c:
	* src/ccm-plugin.c (_ccm_plugin_lock_method),
	(_ccm_plugin_unlock_method):
	* src/ccm-timeline.c:
	* src/ccm-timeline.h:
	* src/ccm-timeout-pool.c:
	* src/ccm-timeout-pool.h:
	* src/eggaccelerators.c:
	* src/eggaccelerators.h:
      Create libcairo_compmgr to expose common objects and functions to prepare 
      ccm preference application.

2008-09-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c (ccm_screen_check_stack):
      Prepend window in stack on remove instead append to avoid bliking.

2008-09-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c (ccm_screen_check_stack),
	(impl_ccm_screen_paint), (ccm_screen_on_event):
      Fix remove window on reparent.

2008-09-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c (ccm_fade_window_load_options):
	* plugins/magnifier/ccm-magnifier.c
	(ccm_magnifier_screen_load_options):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_window_load_options):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_on_event),
	(ccm_mosaic_screen_load_options), (ccm_mosaic_get_damaged_area),
	(ccm_mosaic_paint_area), (ccm_mosaic_screen_paint):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_finalize),
	(ccm_opacity_on_option_changed), (ccm_opacity_screen_load_options),
	(ccm_opacity_window_load_options):
	* plugins/perf/ccm-perf.c (ccm_perf_screen_load_options):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_load_options):
	* src/ccm-config.c (ccm_config_get_color):
	* src/ccm-screen.c (ccm_screen_finalize),
	(ccm_screen_update_background), (ccm_screen_check_stack),
	(ccm_screen_get_plugins):
	* src/ccm-window.c (ccm_window_finalize), (ccm_window_get_plugins):
	* src/ccm.h:
      Fix some memory leaks.

2008-09-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in:
	* plugins/fade/ccm-fade.c (ccm_fade_get_duration),
	(ccm_fade_window_load_options):
	* plugins/freeze/ccm-freeze.c (ccm_freeze_load_options):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_get_size),
	(ccm_magnifier_cursor_get_position),
	(ccm_magnifier_screen_load_options), (ccm_magnifier_screen_paint):
	* plugins/menu-animation/ccm-menu-animation.c
	(ccm_menu_animation_get_duration),
	(ccm_menu_animation_window_load_options):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_create_window),
	(ccm_mosaic_on_key_press), (ccm_mosaic_screen_load_options),
	(ccm_mosaic_create_areas):
	* plugins/opacity/ccm-opacity.c (ccm_opacity_screen_load_options),
	(ccm_opacity_window_load_options):
	* plugins/perf/ccm-perf.c (ccm_perf_screen_load_options):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_load_options):
	* src/ccm-display.c (ccm_display_set_property),
	(ccm_display_get_property), (ccm_display_init),
	(ccm_display_class_init), (ccm_display_init_shape),
	(ccm_display_init_composite), (ccm_display_init_damage),
	(ccm_display_init_shm), (ccm_display_init_xfixes),
	(ccm_display_new), (ccm_display_get_xdisplay), (ccm_display_sync),
	(ccm_display_grab), (ccm_display_ungrab), (ccm_display_trap_error),
	(ccm_display_pop_error):
	* src/ccm-display.h:
	* src/ccm-image.c (ccm_image_new):
	* src/ccm-pixmap-backend.c (ccm_pixmap_backend_get_type):
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
	* src/ccm-pixmap.c (ccm_pixmap_register_damage):
	* src/ccm-screen.c (ccm_screen_set_property),
	(ccm_screen_get_property), (ccm_screen_init),
	(ccm_screen_class_init), (ccm_screen_update_background),
	(ccm_screen_load_config), (ccm_screen_unset_selection_owner),
	(ccm_screen_set_selection_owner), (ccm_screen_get_window_plugins),
	(ccm_screen_paint), (ccm_screen_on_window_damaged),
	(ccm_screen_new), (ccm_screen_get_display),
	(ccm_screen_get_xscreen), (ccm_screen_get_number),
	(ccm_screen_get_root_window):
	* src/ccm-screen.h:
	* src/ccm-window-backend.c (ccm_window_backend_get_type):
	* src/ccm-window-glitz.c (ccm_window_glitz_create_gl_drawable),
	(ccm_window_glitz_create_pixmap):
	* src/ccm-window-xrender.c (ccm_window_xrender_create_pixmap):
	* src/ccm-window.c (ccm_window_get_plugins),
	(impl_ccm_window_move), (ccm_window_get_pixmap):
	* src/ccm.h:
      API Review of CCMDisplay and CCMScreen :
      - Prefer to use g_object_[get,set] than public value.

2008-09-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c (ccm_screen_print_stack),
	(ccm_screen_print_real_stack), (ccm_screen_check_stack):
	* src/ccm-window.c (ccm_window_query_geometry),
	(impl_ccm_window_query_geometry):
     Let check stack to remove window on unmap, ccm can't block it, since the
     WM restack window in bottom before unmap.

2008-09-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in:
	* src/ccm-config.c (ccm_config_get_color):
	* src/ccm-screen.c (ccm_screen_update_background),
	(ccm_screen_on_option_changed):
	* src/ccm.h:
      Add background color and background pixmap position.

2008-09-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac:
	* data/cairo-compmgr.schemas.in:
	* plugins/freeze/ccm-freeze.c (ccm_freeze_on_event),
	(ccm_freeze_ping), (ccm_freeze_paint), (ccm_freeze_map),
	(ccm_freeze_add_window):
	* plugins/magnifier/ccm-magnifier.c (ccm_magnifier_screen_paint),
	(ccm_magnifier_window_paint):
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_recalc_coords),
	(ccm_mosaic_send_leave_event), (ccm_mosaic_send_enter_event),
	(ccm_mosaic_on_event), (ccm_mosaic_on_key_press),
	(ccm_mosaic_get_damaged_area), (ccm_mosaic_paint_area),
	(ccm_mosaic_screen_paint), (ccm_mosaic_window_paint):
	* plugins/opacity/ccm-opacity.c
	(ccm_opacity_on_increase_key_press),
	(ccm_opacity_on_decrease_key_press):
	* plugins/perf/ccm-perf.c (ccm_perf_window_paint):
	* plugins/shadow/ccm-shadow.c (ccm_shadow_check_needed),
	(ccm_shadow_need_shadow), (ccm_shadow_set_opaque_region):
	* src/ccm-config.c (ccm_config_new):
	* src/ccm-debug.c (ccm_log_region):
	* src/ccm-debug.h:
	* src/ccm-display.h:
	* src/ccm-drawable.c (ccm_drawable_set_property),
	(ccm_drawable_get_property), (ccm_drawable_init),
	(ccm_drawable_finalize), (ccm_drawable_class_init),
	(__ccm_drawable_query_geometry), (ccm_drawable_get_visual),
	(ccm_drawable_get_depth), (ccm_drawable_get_format),
	(ccm_drawable_get_xid), (ccm_drawable_query_geometry),
	(ccm_drawable_damage_region), (ccm_drawable_get_surface),
	(ccm_drawable_create_context):
	* src/ccm-drawable.h:
	* src/ccm-image.c (ccm_image_get_sub_image):
	* src/ccm-pixmap-buffered-image.c (ccm_pixmap_buffered_image_sync):
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_class_init),
	(ccm_pixmap_glitz_create_gl_drawable), (ccm_pixmap_glitz_bind),
	(ccm_pixmap_glitz_get_surface), (ccm_pixmap_glitz_create_context):
	* src/ccm-pixmap-image.c (ccm_pixmap_image_bind),
	(ccm_pixmap_image_get_surface):
	* src/ccm-pixmap-xrender.c (ccm_pixmap_xrender_bind),
	(ccm_pixmap_xrender_get_surface):
	* src/ccm-pixmap.c (ccm_pixmap_init), (ccm_pixmap_finalize),
	(ccm_pixmap_class_init), (ccm_pixmap_on_damage),
	(ccm_pixmap_register_damage), (ccm_pixmap_new),
	(ccm_pixmap_new_from_visual):
	* src/ccm-pixmap.h:
	* src/ccm-region.c:
	* src/ccm-region.h:
	* src/ccm-screen.c (ccm_screen_init), (ccm_screen_finalize),
	(ccm_screen_update_background), (ccm_screen_destroy_window),
	(ccm_screen_find_window_or_child), (ccm_screen_check_stack),
	(ccm_screen_check_stack_position), (ccm_screen_restack),
	(impl_ccm_screen_paint), (ccm_screen_on_window_property_changed),
	(impl_ccm_screen_add_window), (impl_ccm_screen_remove_window),
	(ccm_screen_paint), (ccm_screen_on_option_changed),
	(ccm_screen_on_window_damaged), (ccm_screen_new),
	(ccm_screen_add_window), (ccm_screen_remove_window),
	(ccm_screen_damage_region):
	* src/ccm-window-glitz.c (ccm_window_glitz_class_init),
	(ccm_window_glitz_create_gl_drawable),
	(ccm_window_glitz_create_gl_surface),
	(ccm_window_glitz_flush_region), (ccm_window_glitz_create_pixmap):
	* src/ccm-window-plugin.c (ccm_window_plugin_set_opaque_region):
	* src/ccm-window-plugin.h:
	* src/ccm-window-xrender.c (ccm_window_xrender_class_init),
	(ccm_window_xrender_create_backbuffer),
	(ccm_window_xrender_get_surface),
	(ccm_window_xrender_create_pixmap):
	* src/ccm-window.c (ccm_window_set_gobject_property),
	(ccm_window_get_gobject_property), (ccm_window_init),
	(ccm_window_finalize), (ccm_window_class_init),
	(ccm_window_get_plugins), (ccm_window_get_attribs),
	(ccm_window_query_geometry), (ccm_window_move),
	(ccm_window_resize), (impl_ccm_window_query_geometry),
	(impl_ccm_window_move), (impl_ccm_window_resize),
	(impl_ccm_window_paint), (impl_ccm_window_unmap),
	(impl_ccm_window_set_opaque_region),
	(ccm_window_on_property_async_error),
	(ccm_window_on_get_property_async), (_ccm_window_get_plugin),
	(ccm_window_new), (ccm_window_is_viewable),
	(ccm_window_is_input_only), (ccm_window_get_opaque_region),
	(ccm_window_get_opaque_clipbox), (ccm_window_get_pixmap),
	(ccm_window_create_pixmap), (ccm_window_set_opacity),
	(ccm_window_paint), (ccm_window_map), (ccm_window_unmap),
	(ccm_window_add_alpha_region), (ccm_window_set_alpha),
	(ccm_window_set_opaque_region), (ccm_window_set_opaque),
	(ccm_window_get_area), (ccm_window_set_transform),
	(ccm_window_transform):
	* src/ccm-window.h:
	* src/ccm.h:
      API review: 
      - Prefer to use g_object_[get,set] than public value.
      - Move some API in CCMDrawable.
      - Fix TFP mode and enable it by default.
      - Fix no desktop mode.
      - Add default pixmap background key.
      - Bump to 0.2.2 version.

2008-09-05  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window-glitz.c (ccm_window_glitz_flush),
	(ccm_window_glitz_flush_region):
	  - Remove the stupid implementation of copy sub buffer use glitz instead.

2008-09-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_init),
	(ccm_pixmap_glitz_finalize), (ccm_pixmap_glitz_create_gl_drawable),
	(ccm_pixmap_glitz_bind), (ccm_pixmap_glitz_get_surface):
	  - fix glitz TFP support, is now fonctional.

2008-09-03  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_on_key_press),
	(ccm_mosaic_get_damaged_area), (ccm_mosaic_paint_area),
	(ccm_mosaic_screen_paint):
	  - Improve redraw (work in progress)
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_bind):
	  - Improve redraw (work in progress)

2008-09-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/magnifier/ccm-magnifier.c
	(ccm_magnifier_cursor_convert_to_rgba): Fix mouse image conversion.
	* plugins/mosaic/ccm-mosaic.c (ccm_mosaic_init),
	(ccm_mosaic_create_window), (ccm_mosaic_recalc_coords),
	(ccm_mosaic_send_leave_event), (ccm_mosaic_send_enter_event),
	(ccm_mosaic_simulate_enter_leave_event), (ccm_mosaic_send_event),
	(ccm_mosaic_broadcast_event), (ccm_mosaic_mouse_over_area),
	(ccm_mosaic_on_event), (ccm_mosaic_on_key_press),
	(ccm_mosaic_get_damaged_area), (ccm_mosaic_paint_area),
	(ccm_mosaic_screen_paint), (ccm_mosaic_window_paint):
	* src/ccm-screen.c (ccm_screen_paint),
	(ccm_screen_undamage_region), (ccm_screen_activate_window):
	* src/ccm.h: Partial mosaic fix.

2008-08-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c (impl_ccm_window_query_geometry):
	  - use ccm_window_set_opaque_region to define opaque region on resize to 
	    keep transform matrix on opaque region.

2008-08-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-drawable.h:
      - remove unused damage virtual method.
	* src/ccm-property-async.c (ccm_property_async_init),
	(ccm_property_async_finalize), (ccm_property_async_idle),
	(ccm_property_async_handler):
      - remove idle function on destroy.

2008-08-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-property-async.c (ccm_property_async_class_init),
	(ccm_property_async_handler):
	* src/ccm-window.c (ccm_window_init), (ccm_window_finalize),
	(ccm_window_on_property_async_error),
	(ccm_window_on_get_property_async),
	(ccm_window_get_property_async): 
      - Fix a memory leak.

2008-07-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-display.c (ccm_display_new):
      - Remove dbe check.

2008-07-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* NEWS:
	* configure.ac: Bump to version 0.2.1

2008-07-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: 
      - re-enable native_pixmap_bind by default.                                            

2008-07-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_paint):
      - Don't apply y invert when painting shadow.
	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable),
	(ccm_pixmap_glitz_repair): 
      - Fix TFP redraw.
	* src/ccm-pixmap-xrender.c (ccm_pixmap_xrender_init),
	(ccm_pixmap_xrender_finalize), (ccm_pixmap_xrender_bind),
	(ccm_pixmap_xrender_get_surface):
      - Don't recreate surface on each redraw.
	* src/ccm-window-xrender.c (ccm_window_xrender_finalize),
	(ccm_window_xrender_create_backbuffer),
	(ccm_window_xrender_get_surface), (ccm_window_xrender_flush),
	(ccm_window_xrender_flush_region):
      - Don't use DBE to made double buffering but instead use a pixmap and 
        XCopyArea.

2008-07-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
    * NEWS: Bump to version 0.2.0

2008-07-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in:
	* plugins/fade/ccm-fade.schemas.in:
	* plugins/magnifier/ccm-magnifier.schemas.in:
	* plugins/menu-animation/ccm-menu-animation.schemas.in:
      - Change default options: native pixmap bind disabled, fade duration 0.2,
        menu-animation duration 0.2 and magnifier shortcut <Super>F12.

2008-07-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c (ccm_screen_check_stack): 
      - Damage window which its position changed in stack.

2008-07-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap-glitz.c (ccm_pixmap_glitz_create_gl_drawable):
	* src/ccm-window-glitz.c (ccm_window_glitz_create_gl_drawable):
      - Use latest glitz API.
	* src/ccm-screen.c (ccm_screen_paint):
      - Clean screen surface on startup.

2008-07-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_need_shadow): Allow shaded window
                                                            to have shadow.
	* src/ccm-screen.c (ccm_screen_paint): Add track damage colorization.

2008-07-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_check_needed): Fix crash.

2008-07-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c (ccm_shadow_finalize): Remove check shadow on
                                                         window destruction.

2008-07-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/Makefile.am:
	* src/ccm-timeline.c:
	* src/ccm-timeout-pool.c:
	* src/ccm-timeout-pool.h: Add timeout pool from clutter for timeline.

2008-07-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Sync display on end of window creation.

2008-07-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Damage screen region covered by window on unmap.
    
2008-07-15  Nicolas Bruguier  <gandalfn@club-internet.fr>
    
    * src/ccm-screen.c: Consider first window opaque viewable which covered
                        all screen as desktop type window.
                        
2008-07-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/menu-animation/ccm-menu-animation.c: Set animation depending the 
                                                   mouse on map.
    * plugins/opacity/ccm-opacity.c: Don't set opacity only change property.
    
    * plugins/fade/ccm-fade.c: 
    * plugins/menu-animation/ccm-menu-animation.c:
    * src/ccm-screen.c:
    * src/ccm-screen.h: Support dynamic change of refresh rate.
    
    * plugins/shadow/ccm-shadow.c: Check if window need shadow on paint.
    
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-image.c: Freeze pixmap on window destroy.
    
    * src/ccm-window.c:
    * src/ccm-screen.c: Fix flickering on window destroy.

2008-07-03  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: Damage window which is in remove pending in check stack.
    * src/ccm-window.c: Ignore silently window paint with alpha 0.

2008-07-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Wait unmap is finished to remove window when an 
                        animation is started.

2008-07-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Sync display on ccm_window_new

2008-06-29  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Don't buffering undecorated and input only window.

2008-06-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/fade/ccm-fade.c:
    * plugins/magnifier/ccm-magnifier.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/perf/ccm-perf.c:
    * plugins/shadow/ccm-shadow.c:
    * src/ccm-keybind.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Implement dynamic config change, fix some memory leak
                        and fix some crash.

2008-06-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c:
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Fix buffering on move.
    
    * plugins/shadow/ccm-shadow.c:
    * src/ccm-window.c:
    * src/ccm.h: Better handling invalid matrix.

2008-06-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-buffered-image.c: Don't buffer by default.
    * src/ccm-window.c: Small performance improvement.

2008-06-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.schemas.in: 
    * plugins/magnifier/ccm-magnifier.c: Add zoom quality option and manage
                                         mouse change when zoom is enabled.
    * plugins/opacity/ccm-opacity.c: Don't filter window on opacity change.
    * src/ccm-display.c: Add xfixes check and xfixes cursor notify event.
    * src/ccm-window.c: Fix use of buffered pixmap on move.

2008-06-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-debug.c:
    * src/ccm-debug.h: add ccm_debug_backtrace function.
    * src/ccm-display.c: add debug statement.
    * src/ccm-screen.c: initialize overlay window context matrix on each paint.
    * src/ccm-window.c: check if matrix is valid with cairo_invert.

2008-06-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.schemas.in: 
    * plugins/magnifier/ccm-magnifier.c: Performance improvement and many fix,
                                         change width and height value to 
                                         percent of screen size.
    * data/cairo-compmgr.schemas.in: Remove freeze plugin from default list and
                                     add magnifier plugin.
    * plugins/fade/ccm-fade.c:
    * plugins/freeze/ccm-freeze.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/perf/ccm-perf.c:
    * plugins/shadow/ccm-shadow.c:
    * plugins/magnifier/ccm-magnifier.c: Fix memory leak, initialisation and 
                                         destruction of options.
    * src/ccm-config.c: Fix memory leak.
    * src/ccm-screen.c: Fix memory leak.
    * src/ccm-window.c: 
    * src/ccm.h: Add to ccm_window_set_transform an option to indicate if we 
                 want damage window, and fix transform application.

2008-06-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * magnifier/ccm-magnifier.c: 
    * src/ccm-window.c: Fix magnifier plugin.

2008-06-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Fix opaque region destruction.
                        Add some debug statement.
    
2008-06-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/fade/ccm-fade.c: Add debug statement.
	* plugins/shadow/ccm-shadow.c: Affine shadow window policy.
    * src/ccm-screen-plugin.h: Fix CCM_SCREEN_PLUGIN_UNLOCK_ROOT_METHOD
    * src/ccm-screen.c: Check stack on hint type change and transient change.
                        Create window on map event if don't exist.
                        Unmap window if visible on remove.
    * src/ccm-window.c: Destruct CCMPixmap on window paint error.
                        Check XError on XCompositeNameWindowPixmap.
						Always set window translucent when opaque area is empty.

2008-05-31  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/opacity/ccm-opacity.schemas.in:
    * plugins/perf/ccm-perf.c:
    * src/ccm-keybind.c:
    * src/ccm-keybind.h:
    * src/ccm-property-async.c:
    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm.h:
    * src/eggaccelerators.c:
    * src/eggaccelerators.h: Add support of button mouse shortcuts, set shortcut
                             Super (roll wheell) to change window opacity.

2008-05-29  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/fade/ccm-fade.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/opacity/ccm-opacity.plugin.desktop.in:
    * plugins/shadow/ccm-shadow.c
    * src/ccm-property-async.c:
    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm.h: Remove state changed signal and update property changed to
                 indicate the type of property changed.
                 Remove get property sync methods not really needed.
                 Check hint type on map in opacity plugin.

2008-05-28  Nicolas Bruguier  <gandalfn@club-internet.fr>
    
    * plugins/fade/ccm-fade.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * src/ccm-plugin.c:
    * src/ccm-plugin.h:
    * src/ccm-screen-plugin.h:
    * src/ccm-window-plugin.h: Serialize unlock plugin operations.
    
    * src/ccm-pixmap-glitz.c:
    * src/ccm-pixmap-image.c: 
    * src/ccm-window-glitz.c: Get window attributes with _ccm_window_get_attribs.
    
    * src/ccm-drawable.c:
    * src/ccm-timeline.c: Typo fixes .
    
    * src/ccm-property-async.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Fixes some redraw issues.

2008-05-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: Add check stack on property/state change.

2008-05-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-animation.c: (Remove)
    * src/ccm-animation.h: (Remove)
    * src/ccm-timeline.c:
    * src/ccm-timeline.h:
    * src/Makefile.am: New implementation for animation (timeline) mostly 
                       inspirated by GtkTimeline:
                       http://bugzilla.gnome.org/show_bug.cgi?id=444659
    
    * src/ccm-screen-plugin.c:
    * src/ccm-screen-plugin.h:
    * src/ccm-window-plugin.c:
    * src/ccm-window-plugin.h:
    * src/ccm-plugin.c:
    * src/ccm-plugin.h: Fix plugin methods chain, implement methods lock.
    
    * plugins/fade/ccm-fade.c:
    * plugins/freeze/ccm-freeze.c:
    * plugins/magnifier/ccm-magnifier.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/perf/ccm-perf.c:
    * plugins/shadow/ccm-shadow.c: Some fixes and change to use timeline and
                                   plugin lock methods.
                                   
    * src/ccm-debug.c:
    * src/ccm-display.c:
    * src/ccm-image.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap.c:
    * src/ccm-property-async.c:
    * src/ccm-region.c:
    * src/ccm-screen.c:
    * src/ccm-screen.h:
    * src/ccm-window.c:
    * src/ccm.h: Some fixes and performance improvements.
    
    * configure.ac: Bump to 0.1.99 version, begin of 0.2.0 test phase.

2008-05-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Get hint type in sync on window creation.
    * src/ccm-screen.c: Add assert.
    * plugins/menu-animation/ccm-menu-animation.c: Enhance animation.

2008-05-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/Makefile.am:
    * src/async-getprop.c: (Remove)
    * src/async-getprop.h: (Remove)
    * src/ccm-property-async.c:
    * src/ccm-property-async.h: Rewrite of async get property.
    
    * plugins/opacity/ccm-opacity.c:
    * plugins/shadow/ccm-shadow.c:
    * src/ccm-debug.h:
    * src/ccm-display.c:
    * src/ccm-display.h:
    * src/ccm-image.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap.c:
    * src/ccm-screen.c:
    * src/ccm-tray-menu.c:
    * src/ccm-window.c: Fix some redraw issue.

2008-04-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: (ccm_screen_check_stack_position) force window with type
                        desktop in bottom of stack.
                        (ccm_screen_on_event) Don't check window in expose event.
    * src/ccm-window.c: Add assert when use CCM_WINDOW_GET_CLASS avoid some
                        crash.

2008-04-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Stop send event when a window accept it.

2008-04-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Add broadcast send event.
    * src/async-getprop.c: Fix crash, data must be eaten on each reply.

2008-04-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/shadow/ccm-shadow.c:
    * src/async-getprop.c:
    * src/cairo-compmgr.c:
    * src/ccm-display.c:
    * src/ccm-drawable.c:
    * src/ccm-screen.c:
    * src/ccm-window-glitz.c:
    * src/ccm-window.c:
    * src/ccm-window.h
    * src/ccm.h: Merge with test and debug branches, fix many redraw, perfomance
                 and crash issues and add support for openbox window manager, 
                 start the road for 0.2.0 release :).

2008-04-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/async-getprop.c:
    * src/ccm-debug.c:
    * src/ccm-drawable.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Fix a crash on get property async, add debug time.

2008-04-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: Damage all screen on window unmap since we don't found
                        why window geometry is invalidon unmap.

2008-04-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/async-getprop.c:
    * src/ccm-debug.c:
    * src/ccm-debug.h:
    * src/ccm-drawable.c:
    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm-window.h: Fix few redraw issues.

2008-04-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-window.c: Fix a crash if XQueryTree fail, fix some forgotten 
                        damage.

2008-04-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/Makefile.am:
    * src/ccm-debug.c:
    * src/ccm-debug.h: Add debug functions

    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm-window.h:
    * src/ccm.h: Fix damage on window switch + code cleanup

2008-04-14  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/menu-animation/ccm-menu-animation.c:
    * src/ccm-drawable.c:
    * src/ccm-screen.c:
    * src/ccm-screen.h:
    * src/ccm-window.c:
    * src/ccm-window.h: After some experimentation it's the more reasonably way
                        to get stack for many window manager it's get stacking
                        list with XQueryTree, but this method can slow down 
                        redraw.

2008-04-11  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm-window.h:
    * src/ccm.h: Try an another way to check stack.
    
2008-04-10  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-window.c: Ordering fixes

2008-04-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c: Set default type to NORMAL.

2008-04-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm.h: Send state and property changed only if modified, fix restack
                 below if is hidden.

2008-04-08  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-window.c: Fix stacking some layer stacking.

2008-04-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: Fix window stacking in DESKTOP layer and window in
                        NORMAL layer.

2008-04-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/shadow/ccm-shadow.c:
    * src/ccm-screen.c:
    * src/ccm-screen.h:
    * src/ccm-window.c:
    * src/ccm-window.h:
    * src/ccm.h: Implement stacking layer filter.

2008-04-03  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * data/cairo-compmgr.schemas.in: set native_pixmap_bind as default.
    
    * plugins/mosaic/ccm-mosaic.c: Don't clip on draw mosaic.
    
    * plugins/shadow/ccm-shadow.c: Use image surface instead similar to draw
                                   shadow.

    * src/ccm-pixmap-glitz.c: Attach to back buffer instead front.
    
    * src/ccm-screen.c:
    * src/ccm-window.c: Send signal property changed and state changed only if
                        really changed and then restack only in this case.

2008-03-31  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-window.c: Bufferize only on move.
    
    * configure.ac: Ignore CFLAGS passed on command line.
    
    * plugins/magnifier/ccm-magnifier.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/perf/ccm-perf.c:
    * src/ccm-image.c:
    * src/ccm-pixmap-backend.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Fixes some warnings.

2008-03-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-window.c:
    * src/ccm-screen.c: Fix restack issues for transient window.

2008-03-25  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/async-getprop.c:
    * src/async-getprop.h: Don't free task on get reply.
    
    * src/ccm-display.c:
    * src/ccm-display.h: Use signal instead callback on ag_task reply.
    
    * src/ccm-window.c:
    * src/ccm-window.h:
    * src/ccm.h: Add get transient for, get group leader and keep_above/below
                 interface.
    
    * src/ccm-screen.c: Restack rework to be more conformant to EWMH.

    * plugins/mosaic/ccm-mosaic.c:
    * plugins/opacity/ccm-opacity.c:
    * plugins/shadow/ccm-shadow.c: Change policy to filter window with new 
                                   property check.    

2008-03-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c: Fix crash on async get_property handler destruction.
    
2008-03-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/async-getprop.c: Return silently instead an assert if node not found
                           on remove.

2008-03-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.h:
    * src/ccm-display.c: Fix async get_property handler destruction
    
    * src/ccm-window.c: Check hint_type and mwm property on map

2008-03-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c: Fix a crash on remove get_property handler.
    * src/ccm-display.c: 
    * src/ccm-screen.c:
    * src/ccm-screen.h: Create one window selection owner for each screen.

2008-03-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c: Cache use_xshm option.

2008-03-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c:
    * src/ccm-screen.c:
    * src/ccm-window.c: Use async get property for hint type and is_decorated.
    
    * plugins/opacity/ccm-opacity.c
    * plugins/shadow/ccm-shadow.c: Fix get property handling.
    
    * src/async-getprop.c:
    * src/async-getprop.h: Add ag_task_destroy method.
    
2008-03-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/shadow/ccm-shadow.c:
    * src/ccm-display.c:
    * src/ccm-display.h:
    * src/ccm-pixmap-glitz.c:
    * src/ccm-pixmap.c:
    * src/ccm-window.c: Handle better Xerror event.

2008-03-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm.h: Expose find window functions, add activate window function
    * src/ccm-window.c:
    * src/ccm-window.h: Set default window type to normal
    * plugins/mosaic/ccm-mosaic.c: Include only normal window.
    
2008-03-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: Add libgtop depends
    * plugins/perf/ccm-perf.c: Show cpu and memory load average.
    * src/ccm-image.c: Fix a shm memory leak.
    * src/ccm-region.c:
    * src/ccm-region.h: Use _cairo_lround instead round and add debug function
                        _ccm_region_print.
    * src/ccm-window.c: Detroy pixmap when window is unmapped to preserve
                        memory.

2008-03-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-image.c: Repair all damage region on repair.
    
2008-03-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: disable c99 check for now.
    * plugins/Makefile.am:
    * plugins/perf/Makefile.am:
    * plugins/perf/ccm-perf.c:
    * plugins/perf/ccm-perf.h:
    * plugins/perf/ccm-perf.plugin.desktop.in:
    * plugins/perf/ccm-perf.schemas.in:
    * src/ccm-screen.c: Move performance check in a plugin, for now only check
                        FPS.

2008-03-10  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c:
    * src/ccm-display.c:
    * src/ccm-pixmap-glitz.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap.c:
    * src/ccm-screen.c:
    * src/ccm-window-glitz.c:
    * src/ccm-window-xrender.c:
    * src/ccm-window.c: Fix some fallback cases

2008-03-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-glitz.c: Use new api for bind tex image.

2008-03-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-glitz.c: Bind tex image directly instead damage texture.
    
    * src/ccm-screen.c: use gdk_threads_add_timeout_full instead g_timeout
                        only fo testing for now

2008-03-03  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-image.c: Don't repair covered area.

    * src/ccm-pixmap.c: Add y inverted property.
    
    * plugins/freeze/ccm-freeze.c:
    * plugins/magnifier/ccm-magnifier.c:
    * plugins/menu-animation/ccm-menu-animation.c:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/shadow/ccm-shadow.c:
    * src/ccm-pixmap-glitz.c:
    * src/ccm-window-plugin.c:
    * src/ccm-window-plugin.h:
    * src/ccm-window.c: Add y invert parameter to ccm_window_paint plugin
                        interface.
    
    * data/cairo-compmgr.schemas.in:
    * src/ccm-screen.c:
    * src/ccm-screen.h: Add indirect rendering gconf option.

    * src/ccm-window-glitz.c: Check for indirect rendering and set y invert 
                              pixmap option.

2008-02-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: Add pixman 0.9.6 check.
    * src/Makefile.am: 
    * src/ccm-image.c:
    * src/ccm-image.h: Get image object which replace _XSetImage by pixman_blt
                       and add a pseudo XShmGetImage function.
    * src/ccm-pixmap-backend.c:
    * src/ccm-pixmap-backend.h:
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap.c: Merge ccm-pixmap-image and ccm-pixmap-shm, XGetImage and
                        XShmGetImage is now managed in ccm-image.
    
    * src/ccm-pixmap-buffered-shm.c:
    * src/ccm-pixmap-buffered-shm.h:
    * src/ccm-pixmap-shm.c:
    * src/ccm-pixmap-shm.h: Removed SHM is managed in ccm-image.
    
    * src/ccm-display.c:
    * src/ccm-display.h: 
    * src/ccm-pixmap.c: Use event instead a callback for damage.
    
    * src/ccm-screen.c: Remove timer check and force paint in event loop.
    
    * src/ccm-window.c: Remove sync display on query geometry.
    
    * plugins/mosaic/ccm-mosaic.c: Don't check event if plugin isn't enabled
    
    * plugins/opacity/ccm-opacity.c:
    * plugins/opacity/ccm-opacity.schemas.in: Add keybinding to increase/decrease 
                                              opacity.

2008-02-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c: Fix typo
    * src/ccm-drawable.c:
    * src/ccm-drawable.h: Add _ccm_drawable_get_damaged function
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c: Subtract obscured area when repair pixmap
    * src/ccm-pixmap-glitz.c: Remove transform matrix
    * src/ccm-pixmap-shm.c: Implement a pseudo XShmGetSubImage when shared 
                            pixmap isn't supported
    * src/ccm-screen.c: Remove stupid detect desktop window in paint

2008-02-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-shm.c: Minimize repair rectangles with shm without shared
                            pixmaps.

2008-02-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Fix coords calc on mouse event.
    * src/ccm-pixmap-glitz.c: Set surface matrix scale = -1, y offset = height.

2008-02-10  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-drawable.c:
    * src/ccm-drawable.h:
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap-shm.c: Add return bool in ccm_drawable_repair to check
                            if repair complete correctly and damaged zone.
                            
    * src/ccm-pixmap-shm.c: Do a complete XShmGetImage on first repair.

    * configure.ac:
    * src/Makefile.am:
    * src/ccm-window-backend.c:
    * src/ccm-window-backend.h:
    * src/ccm-window-openvg.c:
    * src/ccm-window-openvg.h: Add experimental cairo-openvg backend, not 
                               working for now, missed some pieces in ShivaVG
                               and cairo-openvg-surface specialy for get/set
                               image and compositing. Implemented to follow
                               dev of cairo-openvg and provide backend in ccm
                               when is ready.
    
2008-02-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-shm.c: Minimize XSHMGetImage area when shared pixmaps are 
                            disabled.

2008-02-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-display.c:
    * src/ccm-display.h: Check if shared pixmap is supported when intialize XSHM
    * src/ccm-pixmap-image.c: Optimize image data refresh
    * src/ccm-pixmap-shm.c: if shared pixmap isn't supported (EXA) don't use 
                            pixmap copy only an XSHMGetImage                            

2008-02-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Don't draw window in mosaic, beginning of
                                   event mouse proxy.
    * plugins/mosaic/ccm-mosaic.plugin.desktop.in: Set shadow in depends.

2008-02-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Some work around areas paint. 
    * src/ccm-pixmap-buffered-image.c: Backport fixes from shm buffered
    * src/ccm-pixmap-buffered-shm.c: Fixe typo
    * src/ccm-screen.c: Disable subtract opaque region when filtered damage is
                        disabled
    * src/ccm-window.c: Check name of child window if fail for frame window.

2008-02-05  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Some work around areas paint.
    
    * src/ccm-drawable.c:
    * src/ccm-window.c: Fix crash on get geometry on resize.

    * src/ccm-pixmap-buffered-shm.c:
    * src/ccm-pixmap-shm.c: Fix crash if ccm can't create SHM ressource.
    
2008-02-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/mosaic/ccm-mosaic.c: Clip with damaged screen areas on shade draw.
                                   Create mosaic areas on each screen paint.
                                   
    * src/ccm-screen.c: Don't manage metacity allow event window.

2008-02-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac:
    * plugins/Makefile.am:
    * plugins/mosaic/Makefile.am:
    * plugins/mosaic/ccm-mosaic.c:
    * plugins/mosaic/ccm-mosaic.h:
    * plugins/mosaic/ccm-mosaic.plugin.desktop.in:
    * plugins/mosaic/ccm-mosaic.schemas.in: First implementation of mosaic 
                                            plugin.
    
    * src/ccm-pixmap-buffered-shm.c: Fix redraw when disable/enable buffering
                                     pixmap.
                                     
    * src/ccm.h:
    * src/ccm-screen.c: Add ccm_screen_set_filtered_damage which provide the 
                        possibility to disable/enable the refresh of obscured
                        area of window.
                        
    * src/ccm.h:
    * src/ccm-window.c: Add ccm_window_make_input_output function.
    
2008-02-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c: Remove refresh rate check on paint
    
2008-01-31  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c:
    * src/ccm-pixmap-buffered-shm.c:
    * src/ccm-window.c: Fix offset of clipping when drawing in magnifier surface
                        Clip screen when drawing shade desktop.
                        Fix unset buffered pixmap in window paint.

2008-01-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: Nicolas stop beer :) isn't --enable-glitz-ftp but 
                    --enable-glitz-tfp
    * plugins/magnifier/ccm-magnifier.c: Hide pointer when magnifier is active

2008-01-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: add --enable-glitz-tfp option
    * plugins/magnifier/ccm-magnifier.schemas.in: 
    * plugins/magnifier/ccm-magnifier.c: Add shade desktop gconf options, fix 
                                         move on border

2008-01-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c: Fix follow mouse move.

2008-01-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-shm.c: Check if image is created before create surface

2008-01-25  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.schemas.in: 
    * plugins/magnifier/ccm-magnifier.c: Activate magnifier when stroke F12 key
                                         Add a border and shade desktop when
                                         magnifier is activated.
                                         Show mouse in magnifier and move area
                                         on mouse move (need to be fixed)
    * src/ccm-screen.c:
    * src/ccm-screen.h:
    * src/ccm-window.c:
    * src/ccm.h: Add buffered option at ccm_window_paint to desactivate on fly 
                 buffered pixmap (need to be fixed).

2008-01-25  Carlos Diógenes  <cerdiogenes@gmail.com>

    * plugins/magnifier/ccm-magnifier.plugin.desktop.in: Add Shadow plugin 
                                                         depends

2008-01-25  Benoit Chauvin  <belou.bdc@gmail.com>

    * plugins/menu-animation/ccm-menu-animation.schemas.in: 
    * plugins/fade/ccm-fade.schemas.in: Change default plugins duration.

2008-01-25  Carlos Diógenes  <cerdiogenes@gmail.com>

    * src/ccm-extension-loader.c:
    * src/ccm-extension.c:
    * src/ccm-extension.h: Fix plugin sorting order

2008-01-25  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/magnifier/ccm-magnifier.c:
    * src/ccm-window.c: Scale magnifier on final surface paint, revert 
                        ccm_window_paint offset, fix menu-animation bug.

2008-01-24  Carlos Diógenes  <cerdiogenes@gmail.com>

Review Nicolas Bruguier  <gandalfn@club-internet.fr>:

    * configure.ac:
    * plugins/Makefile.am:
    * plugins/magnifier/Makefile.am:
    * plugins/magnifier/ccm-magnifier.c:
    * plugins/magnifier/ccm-magnifier.h:
    * plugins/magnifier/ccm-magnifier.plugin.desktop.in:
    * plugins/magnifier/ccm-magnifier.schemas.in:
    * plugins/shadow/ccm-shadow.c:
    * po/Makefile.in.in:
    * src/ccm-screen.c:
    * src/ccm-window.c:
    * src/ccm.h: First implementation of magnifier plugin, introduce a bug in 
                 shadow plugin, but is pretty good, thanks Carlos.

2008-01-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/eggaccelerators.c: Fix typo and cleanup
    * src/ccm-keybind.c: Compress key press and release event

2008-01-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-screen.c:
    * src/ccm-screen.h: 
    * src/ccm-screen-plugin.c:
    * src/ccm-screen-plugin.h: (ccm_screen_plugin_paint) Add cow cairo context 
                               in parameters
    * src/Makefile.am:
    * src/ccm-keybind.c:
    * src/ccm-keybind.h:
    * src/eggaccelerators.c:
    * src/eggaccelerators.h: First implementation of key bind need to be tested.
    

2008-01-22  Carlos Diógenes  <cerdiogenes@gmail.com>

    * src/ccm-screen.c:
    * src/ccm-screen.h: (_ccm_screen_get_plugin) Parse all screen plugins to 
                        get corresponding plugin type.

2008-01-18  Carlos Diógenes  <cerdiogenes@gmail.com>

    * configure.ac: Fix use custom CFLAGS if defined

2008-01-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/shadow/ccm-shadow.c: Fix a crash if surface of ccm_window can't 
                                   be created.
    * src/ccm-region.c: add one pixel when scaling region, fix glitches on
                        menu-animation.

2008-01-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac: Bump version to 0.1.4

============ Version 0.1.3.1
2008-01-13  Carlos Diógenes  <cerdiogenes@gmail.com>

    * configure.ac: Fix AM_CONDITIONAL when no glitz lib found, bump version 
                    to 0.1.3.1

============ Version 0.1.3
2008-01-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac:
    * plugins/fade/Makefile.am:
    * plugins/freeze/Makefile.am:
    * plugins/menu-animation/Makefile.am:
    * plugins/opacity/Makefile.am:
    * plugins/shadow/Makefile.am:
    * src/Makefile.am: Remove stupid compilation optimisation use configure to
                       fix gcc options
    * NEWS: update to new release 0.1.3
    
2008-01-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * data/cairo-compmgr.desktop.in.in: Disable startup notification
    
    * plugins/menu-animation/ccm-menu-animation.c: Set damage region with scale
    
    * src/ccm-extension-loader.c:
    * src/ccm-extension-loader.h:
    * src/ccm-screen.c: Check filter plugins on loading instead on extension
                        loader creation
    
    * src/ccm-window.c: Add ccm_window_set_opaque_region
    
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c: Flush surface in end of sync
    
    * src/ccm-region.c:
    * src/ccm.h: Add ccm_region_scale and ccm_region_shaped functions
    
    * src/ccm-pixmap-image.c: Fix crash on XCopyArea
    
    * plugins/shadow/ccm-shadow.c: Create two surface for shadow onr for right
                                   shadow and one for bottom shadow instead one
                                   big region with geometry size. Fix also
                                   shadow drawing
                                   
2008-01-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-backend.h:
    * src/ccm-window.c: Add CCM_IS_PIXMAP_BUFFERED macros and set pixmap 
                        buffered property in ccm_window_paint only if pixmap 
                        is a buffered pixmap

2008-01-11  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in:
	* plugins/freeze/ccm-freeze.c:
	* src/ccm-display.c:
	* src/ccm-display.h:
	* src/ccm-pixmap-backend.c:
	* src/ccm-screen.c:
	* src/ccm-screen.h: Push use_buffered_pixmap option in screen config

2008-01-11  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c: Add buffered property to activate surface
                                     buffering, disable buffering by default.
    * src/ccm-screen.c: set redraw as high priority.
    * src/ccm-window.c: Don't destruct and damage window on unmap and on map. 
                        Activate pixmap buffering on first window redraw.

2008-01-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c: Create buffered surface in window format
                                     instead always in ARGB format.

2008-01-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-region.c:
    * src/ccm.h: Add ccm_region_get_xrectangles function
    
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap-shm.c: Use XFixesSetGCClipRegion instead copy all damaged
                            rectangles

2008-01-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * plugins/fade/Makefile.am:
    * plugins/freeze/Makefile.am:
    * plugins/menu-animation/Makefile.am:
    * plugins/opacity/Makefile.am:
    * plugins/shadow/Makefile.am:
    * src/Makefile.am: Use O3 compilation optimisation, can improve 
                       ccm_drawable_get_damage_path.

2008-01-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * data/Makefile.am: Fix schemas clean rules
    
    * plugins/shadow/ccm-shadow.c:
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-shm.c: Fixes memory leaks

2008-01-06  Nicolas Bruguier  <gandalfn@club-internet.fr>
    
    * configure.ac:
    * data/Makefile.am:
    * data/cairo-compmgr.desktop.in.in: Add desktop entry.
    
    * plugins/shadow/ccm-shadow.c: Use similar surface than window instead
                                   create an image surface.
    
    * src/ccm-drawable.c: Suppress damaged zone outside drawable geometry.
    
    * data/cairo-compmgr.schemas.in:
    * src/ccm-display.c:
    * src/ccm-display.h: Add use_buffered_pixmap option
    
    * src/ccm-window.c: Don't clip geometry made on damage.
    
    * src/Makefile.am:
    * src/ccm-pixmap-backend.c:
    * src/ccm-pixmap-backend.h:
    * src/ccm-pixmap-buffered-image.c:
    * src/ccm-pixmap-buffered-image.h:
    * src/ccm-pixmap-buffered-shm.c:
    * src/ccm-pixmap-buffered-shm.h:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap-shm.c: Add buffered pixmap surface support.

2008-01-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * configure.ac:
    * src/Makefile.am:
    * src/ccm-pixmap-backend.c:
    * src/ccm-pixmap-backend.h:
    * src/ccm-window-glitz.c: Check if glitz TFP support is enabled else 
                              disable pixmap glitz backend

2008-01-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-glitz.c: 
    * src/ccm-window-glitz.c: Use the real geometry of window to create glitz
                              drawable and surface. Set indirect mode with
                              glitz_drawable_format_t

2008-01-03  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-glitz.c:
    * src/ccm-window-glitz.c: Use window visual to determine glitz format

2008-01-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * src/ccm-pixmap-glitz.c: Damage all rectangles of texture
    * src/ccm-window-glitz.c: Remove make_current and get_context not needed

2007-12-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

    * data/cairo-compmgr.schemas.in: fix type of native_pixmap_bind
    * plugins/freeze/ccm-freeze.schemas.in: set default timeout of ping at 5s
    * src/Makefile.am:
    * src/ccm-pixmap-backend.h
    * src/ccm-pixmap-glitz.c
    * src/ccm-pixmap-glitz.h: Add glitz backend for pixmap, this backend needs
                              some patch on glitz to work and specially my 
                              current patch to add TFP support in glitz.

2007-12-30  Nicolas Bruguier  <gandalfn@club-internet.fr>
    * data/cairo-compmgr.schemas.in:
    * src/Makefile.am:
    * src/ccm-pixmap-backend.c:
    * src/ccm-pixmap-backend.h:
    * src/ccm-pixmap-image.c:
    * src/ccm-pixmap-image.h:
    * src/ccm-pixmap-shm.c:
    * src/ccm-pixmap-shm.h:
    * src/ccm-pixmap-xrender.c:
    * src/ccm-pixmap-xrender.h:
    * src/ccm-pixmap.c:
    * src/ccm-pixmap.h:
    * src/ccm-screen.c:
    * src/ccm-screen.h: First implementation of pixmap backends, we can use the
                        native backend associated to window or shm/get_image 
                        backend. For now only xrender native backend with no 
                        damage repair zone a bit slow.

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Bump version to 0.1.3

============ Version 0.1.2
2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-display.c: Destruct selection owner window on display destruction

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/Makefile.am: 
	* data/cairo-compmgr-off-24.png: 
	* data/cairo-compmgr-on-24.png: 
	* data/cairo-compmgr.png: 
	* data/cairo-compmgr.schemas.in: 
	* src/Makefile.am: 
	* src/cairo-compmgr.c: 
	* src/ccm-display.c: 
	* src/ccm-drawable.c: 
	* src/ccm-extension-loader.c: 
	* src/ccm-extension.c: 
	* src/ccm-screen.c: 
	* src/ccm-tray-icon.c: 
	* src/ccm-tray-icon.h: 
	* src/ccm-tray-menu.c: 
	* src/ccm-tray-menu.h: 
	* src/ccm-watch.c: 
	* src/ccm.h: Add tray icon launcher

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c: 
	* src/ccm-screen.c: Force check hint type

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Revert "Use ccm_screen_restack on window add"

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Use ccm_screen_restack on window add

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: Remove unmap implementation in shadow plugin

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c: Fix get window name and warning on ccm startup

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c: Enable freeze animation only in good case

2007-12-27  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/freeze/ccm-freeze.schemas.in: 
	* src/ccm-screen.c: Fix freeze plugin and enable it by default

2007-12-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/menu-animation/ccm-menu-animation.c: 
	* plugins/opacity/ccm-opacity.c: Code cleanup

2007-12-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-extension.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: Fix memory leak

2007-12-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-region.c: 
	* src/ccm-window.c: Fix redraw on move

2007-12-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-display.c: 
	* src/ccm-display.h: 
	* src/ccm-drawable.c: 
	* src/ccm-pixmap.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm.h: Use region instead rectangle for damage

2007-12-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/menu-animation/ccm-menu-animation.c: Remove set alpha in 
	                                               menu-animation

2007-12-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: Set xrender backend as default

2007-12-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-screen.c: Change repaint priority and force repaint on each event 
	                    if refresh rate expired

2007-12-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-extension-loader.c: Sort extension to ensure they are in good 
	                              place

2007-12-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: 
	* plugins/fade/ccm-fade.schemas.in: 
	* plugins/menu-animation/ccm-menu-animation.schemas.in: 
	* src/ccm-config.c: Fix configuration load and some default value

2007-12-21  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
	* data/cairo-compmgr.schemas.in: 
	* plugins/Makefile.am: 
	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.plugin.desktop.in: 
	* plugins/menu-animation/Makefile.am: 
	* plugins/menu-animation/ccm-menu-animation.c: 
	* plugins/menu-animation/ccm-menu-animation.h: 
	* plugins/menu-animation/ccm-menu-animation.plugin.desktop.in: 
	* plugins/menu-animation/ccm-menu-animation.schemas.in: 
	* po/Makefile.in.in: 
	* src/ccm-animation.c: 
	* src/ccm-animation.h: 
	* src/ccm-display.c: 
	* src/ccm-extension-loader.c: 
	* src/ccm-extension.c: 
	* src/ccm-extension.h: 
	* src/ccm-screen.c: 
	* src/ccm-screen.h: 
	* src/ccm-window-plugin.c: 
	* src/ccm-window-plugin.h: 
	* src/ccm-window.c: Animation enhancement

2007-12-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Force unmap on remove window

2007-12-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-window.c: Fix fade map/unmap

2007-12-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: Damage window on fade destruction

2007-12-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* po/Makefile.in.in: 
	* src/ccm-window.c: Add damage on map/unmap

2007-12-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: Remove all unnecessary damage improve performance for 
	                    move

2007-12-16  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: Add offset on start of fade animation to prevent 
	                           transparent window

2007-12-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/Makefile.am: 
	* src/async-getprop.c: 
	* src/async-getprop.h: 
	* src/ccm-display.c: 
	* src/ccm-display.h: Begin of async get property implementation

2007-12-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap.c: Fix no shm mode and minimize damaged redraw area

2007-12-15  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: Fix crash on plugin order (fix #04, #05)

2007-12-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Bump version to 0.1.2

============ Version 0.1.1
2007-12-13  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* Makefile.am: 
	* src/ccm-window-glitz.c: Add intltool script for packaging

2007-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
	* data/cairo-compmgr.schemas.in: 
	* plugins/fade/ccm-fade.schemas.in: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/opacity/ccm-opacity.schemas.in: 
	* po/Makefile.in.in: 
	* src/Makefile.am: 
	* src/ccm-window.c: 
	* src/ccm.h: Check libm in configure, remove some warning

2007-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: Destroy shadow surface on query geometry

2007-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/opacity/ccm-opacity.c: 
	* plugins/shadow/ccm-shadow.c: 
	* po/Makefile.in.in: 
	* src/ccm-drawable.c: 
	* src/ccm-screen.c: 
	* src/ccm-window-plugin.c: 
	* src/ccm-window-plugin.h: 
	* src/ccm-window.c: Add move and resize interface backend

2007-12-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: Another small performance improvement

2007-12-11  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/opacity/Makefile.am: 
	* src/ccm-pixmap.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: Performance improvements

2007-12-10  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-drawable.c: 
	* src/ccm-pixmap.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: Fix some warning

2007-12-10  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-screen.c: Fix performance issue with many windows subtract opaque 
	                    region of below

2007-12-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/Makefile.am: 
	* plugins/freeze/Makefile.am: 
	* plugins/shadow/Makefile.am: 
	* po/Makefile.in.in: 
	* src/Makefile.am: 
	* src/ccm-screen.c: Paint background if no desktop window

2007-12-08  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-animation.c: 
	* src/ccm-animation.h: 
	* src/ccm-screen.c: 
	* src/ccm-window-glitz.c: 
	* src/ccm-window.c: Clip drawing region to screen size

2007-12-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-animation.c: 
	* src/ccm-pixmap.c: Use clipbox area instead list of rectangle when repair 
	                    pixmap

2007-12-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window-glitz.c: Always use 
	                          glitz_glx_find_drawable_format_for_visual to get 
	                          glitz format

2007-12-07  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: Add child window support

2007-12-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/opacity/ccm-opacity.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-window-plugin.c: 
	* src/ccm-window-plugin.h: 
	* src/ccm-window.c: Add set_opaque interface for window plugin

2007-12-06  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-screen.c: Fix fade when a window is reparented

2007-12-05  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-window.c: Fade: fix black screen

2007-12-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: Restore orginal opacity when cancel animation

2007-12-04  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-window.c: Use a better fade calculation in animation

2007-12-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: Don't damage window on fade map, stop animation 
	                           on map/unmap

2007-12-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.h: 
	* src/ccm-animation.c: 
	* src/ccm-screen.c: 
	* src/ccm-screen.h: 
	* src/ccm-window.c: 
	* src/ccm-window.h: Add fade on destroy and create window

2007-12-02  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/freeze/ccm-freeze.c: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm.h: Remove ccm_window_set_parent to manage event of child add 
	             SubstructureNotifyMask

2007-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-window.c: 
	* src/ccm-window.h: Add frame extends support

2007-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-screen.h: Detect if an another composite manager run on startup

2007-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/ccm-screen.c: Damage window in end of fade

2007-12-01  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/Makefile.am: 
	* src/ccm-window-glitz.c: 
	* src/ccm-window.c: Implement CopySubBuffer in glitz backend.

2007-11-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: 
	* src/ccm-extension-loader.c: 
	* src/ccm-extension.c: 
	* src/ccm-screen.c: 
	* src/ccm-screen.h: 
	* src/ccm-window-backend.c: 
	* src/ccm-window-backend.h: 
	* src/ccm-window.c: Add backend support per screen

2007-11-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/Makefile.am: 
	* plugins/freeze/Makefile.am: 
	* plugins/opacity/Makefile.am: 
	* plugins/shadow/Makefile.am: 
	* po/Makefile.in.in: 
	* src/Makefile.am: 
	* src/ccm-drawable.c: 
	* src/ccm-drawable.h: 
	* src/ccm-screen.c: 
	* src/ccm-window-glitz.c: 
	* src/ccm-window-xrender.c: 
	* src/ccm.h: Add ccm_drawable_swap_buffer_region interface, in glitz 
	             backend swap region in xrender

2007-11-30  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/Makefile.am: 
	* plugins/freeze/Makefile.am: 
	* plugins/opacity/Makefile.am: 
	* plugins/shadow/Makefile.am: 
	* src/Makefile.am: 
	* src/ccm-screen.c: 
	* src/ccm-window-glitz.c: Some small performance improvements and fix glitz 
	                          visual detection.

2007-11-28  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* data/cairo-compmgr.schemas.in: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/freeze/ccm-freeze.h: 
	* plugins/freeze/ccm-freeze.schemas.in: 
	* po/Makefile.in.in: Attempt to use compiz ping window method in freeze 
	                     plugin. Disabled by default, don't provide good 
	                     performance, we must try to ping window only in good 
	                     place and made a timeout only if ping is send, and on 
	                     pong receive we need to compare timestamp between send 
	                     and receive.

2007-11-26  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
	* data/cairo-compmgr.schemas.in: 
	* plugins/Makefile.am: 
	* plugins/freeze/Makefile.am: 
	* plugins/freeze/ccm-freeze.c: 
	* plugins/freeze/ccm-freeze.h: 
	* plugins/freeze/ccm-freeze.plugin.desktop.in: 
	* plugins/freeze/ccm-freeze.schemas.in: 
	* po/Makefile.in.in: 
	* src/ccm-window-glitz.c: Add embrionic freeze plugin

2007-11-25  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.schemas.in: 
	* plugins/opacity/ccm-opacity.c: 
	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-window-plugin.c: 
	* src/ccm-window-plugin.h: 
	* src/ccm-window.c: Add query_opacity plugin interface, stop fade if 
	                    query_opacity. Set default duration fade at 0.3 seconds

2007-11-25  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* src/Makefile.am: 
	* src/ccm-animation.c: 
	* src/ccm-animation.h: Merge from fade branch add ccm-animation object for 
	                       manage effect progress

2007-11-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.schemas.in: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: 
	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.schemas.in: 
	* src/ccm-window.c: 
	* plugins/fade/ccm-fade.c: 
	* configure.ac: 
	* plugins/Makefile.am: 
	* plugins/fade/Makefile.am: 
	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.h: 
	* plugins/fade/ccm-fade.plugin.desktop.in: 
	* plugins/fade/ccm-fade.schemas.in: Initial fade plugin

2007-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: Damage screen on window destroy, don't map or unmap if 
	                    window already in this state

2007-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: Fix some glitches on open and close windows

2007-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: Fix damage on open and close window

2007-11-24  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: Fix damage on fade

2007-11-23  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.schemas.in: 
	* src/ccm-window.c: Use timer and timeout for animation

2007-11-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/fade/ccm-fade.c: Temporary commit fix some issue with fade

2007-11-22  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
	* plugins/Makefile.am: 
	* plugins/fade/Makefile.am: 
	* plugins/fade/ccm-fade.c: 
	* plugins/fade/ccm-fade.h: 
	* plugins/fade/ccm-fade.plugin.desktop.in: 
	* plugins/fade/ccm-fade.schemas.in: Initial fade plugin

2007-11-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Require glitz  0.5.6

2007-11-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Don't add window on map, set parent on create notify

2007-11-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Disable for now remove window on reparent event

2007-11-20  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Rework of track damage : when a window is damaged 
	                    consider three damage, window damage itself, the above 
	                    window damage and below damage. First substract all 
	                    opaque area of above window to all damage, next damage 
	                    above window and below window. Suppress also all opaque 
	                    area of fulscreen window. Its seem more CPU hangry but 
	                    less artifact.

2007-11-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm.h: Add missing ccm_window_is_decorated declaration

2007-11-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: Add ccm_window_is_decorated, don't shadow for normal window 
	             without decoration

2007-11-19  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Bump version to 0.1.1

============ Version 0.1.0
2007-11-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: state and fullscreen improvement need a rework in long term

2007-11-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Manage damage when we have a fullscreen window

2007-11-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm.h: Set window parent on reparent event and propagate state of 
	             child to parent

2007-11-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-drawable.c: 
	* src/ccm-window.c: 
	* src/ccm.h: unset drawable geometry on window unmap

2007-11-18  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: Destroy shadow surface on unmap

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap.c: 
	* src/ccm-window-xrender.c: Fix a memory leak

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: Fix a small memory leak

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-region.c: Fix clipping area on shadow draw

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: Don't damage all above window if window is fully 
	                    obscured

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-pixmap.c: Fix double free on visual

2007-11-17  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: 
	* po/Makefile.in.in: 
	* src/Makefile.am: 
	* src/cairo-compmgr.c: 
	* src/ccm-extension.c: 
	* src/ccm-window-backend.c: 
	* src/ccm-window-backend.h: Add check backend conditional build

2007-11-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* src/ccm-screen.c: 
	* src/ccm-window.c: 
	* src/ccm-window.h: 
	* src/ccm.h: Add fullscreen check

2007-11-12  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* plugins/shadow/ccm-shadow.c: 
	* src/ccm-screen.c: Fix shadow redraw for fullscreen windows

2007-11-09  Nicolas Bruguier  <gandalfn@club-internet.fr>

	* configure.ac: Fix intltool check

